<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ttgis.recruit.Mapper.XxtzMapper">
	<resultMap id="BaseResultMap" type="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="XXTZ_ID" property="xxtzId" jdbcType="VARCHAR" />
		<result column="USER_ID" property="userId" jdbcType="VARCHAR" />
		<result column="XXTZ_TYPE" property="xxtzType" jdbcType="VARCHAR" />
		<result column="XXTZ_USER" property="xxtzUser" jdbcType="VARCHAR" />
		<result column="XXTZ_TELEPOHNE" property="xxtzTelepohne"
			jdbcType="NUMERIC" />
		<result column="XXTZ_EMAIL" property="xxtzEmail" jdbcType="VARCHAR" />
		<result column="XXTZ_MESSAGE_CONTENT" property="xxtzMessageContent"
			jdbcType="VARCHAR" />
		<result column="XXTZ_MESSAGE_TIME" property="xxtzMessageTime"
			jdbcType="TIMESTAMP" />
		<result column="XXTZ_MESSAGE_RESULT" property="xxtzMessageResult"
			jdbcType="VARCHAR" />
		<result column="XXTZ_EMAIL_CONTENT" property="xxtzEmailContent"
			jdbcType="VARCHAR" />
		<result column="XXTZ_EMAIL_TIME" property="xxtzEmailTime"
			jdbcType="TIMESTAMP" />
		<result column="XXTZ_EMAIL_RESULT" property="xxtzEmailResult"
			jdbcType="VARCHAR" />
		<result column="XXTZ_CUSER" property="xxtzCuser" jdbcType="VARCHAR" />
		<result column="XXTZ_ADDTIME" property="xxtzAddtime" jdbcType="TIMESTAMP" />
		<result column="XXTZ_DELFLAG" property="xxtzDelflag" jdbcType="NUMERIC" />
		<result column="XXTZ_ISREAD" property="xxtzIsread" jdbcType="NUMERIC" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		XXTZ_ID, USER_ID, XXTZ_TYPE, XXTZ_USER, XXTZ_TELEPOHNE, XXTZ_EMAIL,
		XXTZ_MESSAGE_CONTENT,
		XXTZ_MESSAGE_TIME, XXTZ_MESSAGE_RESULT,
		XXTZ_EMAIL_CONTENT, XXTZ_EMAIL_TIME,
		XXTZ_EMAIL_RESULT,
		XXTZ_CUSER,
		XXTZ_ADDTIME, XXTZ_DELFLAG, XXTZ_ISREAD
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from XXTZ
		where XXTZ_ID = #{xxtzId,jdbcType=VARCHAR}
	</select>
	<select id="selectFailedMsg" resultType="java.lang.Integer"
		parameterType="java.lang.String">
		select count(*)
		from XXTZ
		where XXTZ_DELFLAG=1 and
		(XXTZ_MESSAGE_RESULT != 'Success' or XXTZ_MESSAGE_RESULT is null) and
		XXTZ_CUSER =
		#{strZzjgId,jdbcType=VARCHAR}
	</select>
	<select id="selectCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.PageCondition">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from XXTZ
		where XXTZ_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="userId != null and userId != ''">
				and USER_ID = #{userId,jdbcType=VARCHAR}
			</if>
			<if test="userName != null and userName != ''">
				and XXTZ_USER like '%${userName}%'
			</if>
			<if test="status != null">
				<choose>
					<when test="status == 'Faild'">
						and (XXTZ_MESSAGE_RESULT != 'Success' or
						XXTZ_MESSAGE_RESULT is null)
					</when>
					<otherwise>
						and XXTZ_MESSAGE_RESULT = #{status,jdbcType=VARCHAR}
					</otherwise>
				</choose>
			</if>
		</trim>
	</select>
	<select id="selectCjtsEmail" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from XXTZ
		where XXTZ_TYPE = '成绩推送'
		and XXTZ_EMAIL_RESULT = '待发送'
		and
		XXTZ_EMAIL_TIME &lt;= getdate()
	</select>
	<select id="selectByWhere" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.PageCondition">
		select *
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) * from XXTZ T where
		XXTZ_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="zzjgId != null and zzjgId != ''">
				and XXTZ_CUSER = #{zzjgId,jdbcType=VARCHAR}
			</if>
			<if test="userId != null and userId != ''">
				and USER_ID = #{userId,jdbcType=VARCHAR}
			</if>
			<if test="userName != null and userName != ''">
				and XXTZ_USER like '%${userName}%'
			</if>
			<if test="status != null">
				<choose>
					<when test="status == 'Faild'">
						and (XXTZ_MESSAGE_RESULT != 'Success' or
						XXTZ_MESSAGE_RESULT is null)
					</when>
					<otherwise>
						and XXTZ_MESSAGE_RESULT = #{status,jdbcType=VARCHAR}
					</otherwise>
				</choose>
			</if>
		</trim>
		order by T.XXTZ_ADDTIME desc ) as t1
		order by XXTZ_ADDTIME asc) as t2
		order by
		XXTZ_ADDTIME desc
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from XXTZ
		where XXTZ_ID = #{xxtzId,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into XXTZ (XXTZ_ID, USER_ID, XXTZ_TYPE,
		XXTZ_USER,
		XXTZ_TELEPOHNE, XXTZ_EMAIL,
		XXTZ_MESSAGE_CONTENT, XXTZ_MESSAGE_TIME,
		XXTZ_MESSAGE_RESULT, XXTZ_EMAIL_CONTENT, XXTZ_EMAIL_TIME,
		XXTZ_EMAIL_RESULT, XXTZ_CUSER, XXTZ_ADDTIME,
		XXTZ_DELFLAG, XXTZ_ISREAD)
		values (#{xxtzId,jdbcType=VARCHAR}, #{userId,jdbcType=VARCHAR},
		#{xxtzType,jdbcType=VARCHAR},
		#{xxtzUser,jdbcType=VARCHAR},
		#{xxtzTelepohne,jdbcType=NUMERIC}, #{xxtzEmail,jdbcType=VARCHAR},
		#{xxtzMessageContent,jdbcType=VARCHAR},
		#{xxtzMessageTime,jdbcType=TIMESTAMP},
		#{xxtzMessageResult,jdbcType=VARCHAR},
		#{xxtzEmailContent,jdbcType=VARCHAR},
		#{xxtzEmailTime,jdbcType=TIMESTAMP},
		#{xxtzEmailResult,jdbcType=VARCHAR}, #{xxtzCuser,jdbcType=VARCHAR},
		#{xxtzAddtime,jdbcType=TIMESTAMP},
		#{xxtzDelflag,jdbcType=NUMERIC},
		#{xxtzIsread,jdbcType=NUMERIC})

	</insert>
	<insert id="insertSelective" parameterType="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into XXTZ
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="xxtzId != null">
				XXTZ_ID,
			</if>
			<if test="userId != null">
				USER_ID,
			</if>
			<if test="xxtzType != null">
				XXTZ_TYPE,
			</if>
			<if test="xxtzUser != null">
				XXTZ_USER,
			</if>
			<if test="xxtzTelepohne != null">
				XXTZ_TELEPOHNE,
			</if>
			<if test="xxtzEmail != null">
				XXTZ_EMAIL,
			</if>
			<if test="xxtzMessageContent != null">
				XXTZ_MESSAGE_CONTENT,
			</if>
			<if test="xxtzMessageTime != null">
				XXTZ_MESSAGE_TIME,
			</if>
			<if test="xxtzMessageResult != null">
				XXTZ_MESSAGE_RESULT,
			</if>
			<if test="xxtzEmailContent != null">
				XXTZ_EMAIL_CONTENT,
			</if>
			<if test="xxtzEmailTime != null">
				XXTZ_EMAIL_TIME,
			</if>
			<if test="xxtzEmailResult != null">
				XXTZ_EMAIL_RESULT,
			</if>
			<if test="xxtzCuser != null">
				XXTZ_CUSER,
			</if>
			<if test="xxtzAddtime != null">
				XXTZ_ADDTIME,
			</if>
			<if test="xxtzDelflag != null">
				XXTZ_DELFLAG,
			</if>
			<if test="xxtzIsread != null">
				XXTZ_ISREAD,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="xxtzId != null">
				#{xxtzId,jdbcType=VARCHAR},
			</if>
			<if test="userId != null">
				#{userId,jdbcType=VARCHAR},
			</if>
			<if test="xxtzType != null">
				#{xxtzType,jdbcType=VARCHAR},
			</if>
			<if test="xxtzUser != null">
				#{xxtzUser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzTelepohne != null">
				#{xxtzTelepohne,jdbcType=NUMERIC},
			</if>
			<if test="xxtzEmail != null">
				#{xxtzEmail,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageContent != null">
				#{xxtzMessageContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageTime != null">
				#{xxtzMessageTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzMessageResult != null">
				#{xxtzMessageResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailContent != null">
				#{xxtzEmailContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailTime != null">
				#{xxtzEmailTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzEmailResult != null">
				#{xxtzEmailResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzCuser != null">
				#{xxtzCuser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzAddtime != null">
				#{xxtzAddtime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzDelflag != null">
				#{xxtzDelflag,jdbcType=NUMERIC},
			</if>
			<if test="xxtzIsread != null">
				#{xxtzIsread,jdbcType=NUMERIC},
			</if>
		</trim>
	</insert>
	<update id="updateByWhereSelective" parameterType="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update XXTZ
		<set>
			<if test="userId != null">
				USER_ID = #{userId,jdbcType=VARCHAR},
			</if>
			<if test="xxtzType != null">
				XXTZ_TYPE = #{xxtzType,jdbcType=VARCHAR},
			</if>
			<if test="xxtzUser != null">
				XXTZ_USER = #{xxtzUser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzTelepohne != null">
				XXTZ_TELEPOHNE = #{xxtzTelepohne,jdbcType=NUMERIC},
			</if>
			<if test="xxtzEmail != null">
				XXTZ_EMAIL = #{xxtzEmail,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageContent != null">
				XXTZ_MESSAGE_CONTENT =
				#{xxtzMessageContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageTime != null">
				XXTZ_MESSAGE_TIME =
				#{xxtzMessageTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzMessageResult != null">
				XXTZ_MESSAGE_RESULT =
				#{xxtzMessageResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailContent != null">
				XXTZ_EMAIL_CONTENT =
				#{xxtzEmailContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailTime != null">
				XXTZ_EMAIL_TIME = #{xxtzEmailTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzEmailResult != null">
				XXTZ_EMAIL_RESULT = #{xxtzEmailResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzCuser != null">
				XXTZ_CUSER = #{xxtzCuser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzAddtime != null">
				XXTZ_ADDTIME = #{xxtzAddtime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzDelflag != null">
				XXTZ_DELFLAG = #{xxtzDelflag,jdbcType=NUMERIC},
			</if>
			<if test="xxtzIsread != null">
				XXTZ_ISREAD = #{xxtzIsread,jdbcType=NUMERIC},
			</if>
		</set>
		where XXTZ_USER = #{xxtzUser,jdbcType=VARCHAR}
		and XXTZ_TYPE =
		#{xxtzType,jdbcType=VARCHAR}
		and XXTZ_CUSER =
		#{xxtzCuser,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update XXTZ
		<set>
			<if test="userId != null">
				USER_ID = #{userId,jdbcType=VARCHAR},
			</if>
			<if test="xxtzType != null">
				XXTZ_TYPE = #{xxtzType,jdbcType=VARCHAR},
			</if>
			<if test="xxtzUser != null">
				XXTZ_USER = #{xxtzUser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzTelepohne != null">
				XXTZ_TELEPOHNE = #{xxtzTelepohne,jdbcType=NUMERIC},
			</if>
			<if test="xxtzEmail != null">
				XXTZ_EMAIL = #{xxtzEmail,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageContent != null">
				XXTZ_MESSAGE_CONTENT =
				#{xxtzMessageContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzMessageTime != null">
				XXTZ_MESSAGE_TIME =
				#{xxtzMessageTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzMessageResult != null">
				XXTZ_MESSAGE_RESULT =
				#{xxtzMessageResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailContent != null">
				XXTZ_EMAIL_CONTENT =
				#{xxtzEmailContent,jdbcType=VARCHAR},
			</if>
			<if test="xxtzEmailTime != null">
				XXTZ_EMAIL_TIME = #{xxtzEmailTime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzEmailResult != null">
				XXTZ_EMAIL_RESULT = #{xxtzEmailResult,jdbcType=VARCHAR},
			</if>
			<if test="xxtzCuser != null">
				XXTZ_CUSER = #{xxtzCuser,jdbcType=VARCHAR},
			</if>
			<if test="xxtzAddtime != null">
				XXTZ_ADDTIME = #{xxtzAddtime,jdbcType=TIMESTAMP},
			</if>
			<if test="xxtzDelflag != null">
				XXTZ_DELFLAG = #{xxtzDelflag,jdbcType=NUMERIC},
			</if>
			<if test="xxtzIsread != null">
				XXTZ_ISREAD = #{xxtzIsread,jdbcType=NUMERIC},
			</if>
		</set>
		where XXTZ_ID = #{xxtzId,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.ttgis.recruit.domain.Xxtz">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update XXTZ
		set USER_ID = #{userId,jdbcType=VARCHAR},
		XXTZ_TYPE =
		#{xxtzType,jdbcType=VARCHAR},
		XXTZ_USER = #{xxtzUser,jdbcType=VARCHAR},
		XXTZ_TELEPOHNE = #{xxtzTelepohne,jdbcType=NUMERIC},
		XXTZ_EMAIL =
		#{xxtzEmail,jdbcType=VARCHAR},
		XXTZ_MESSAGE_CONTENT =
		#{xxtzMessageContent,jdbcType=VARCHAR},
		XXTZ_MESSAGE_TIME =
		#{xxtzMessageTime,jdbcType=TIMESTAMP},
		XXTZ_MESSAGE_RESULT =
		#{xxtzMessageResult,jdbcType=VARCHAR},
		XXTZ_EMAIL_CONTENT =
		#{xxtzEmailContent,jdbcType=VARCHAR},
		XXTZ_EMAIL_TIME =
		#{xxtzEmailTime,jdbcType=TIMESTAMP},
		XXTZ_EMAIL_RESULT =
		#{xxtzEmailResult,jdbcType=VARCHAR},
		XXTZ_CUSER =
		#{xxtzCuser,jdbcType=VARCHAR},
		XXTZ_ADDTIME =
		#{xxtzAddtime,jdbcType=TIMESTAMP},
		XXTZ_DELFLAG =
		#{xxtzDelflag,jdbcType=NUMERIC},
		XXTZ_ISREAD =
		#{xxtzIsread,jdbcType=NUMERIC}
		where XXTZ_ID =
		#{xxtzId,jdbcType=VARCHAR}
	</update>
</mapper>