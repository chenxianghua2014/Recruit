<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ttgis.recruit.Mapper.BmglMapper">
	<resultMap id="BaseResultMap" type="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="BMGL_ID" property="bmglId" jdbcType="VARCHAR" />
		<result column="BMGL_KCGL_ID" property="bmglKcglId" jdbcType="VARCHAR" />
		<result column="BMGL_KSXM" property="bmglKsxm" jdbcType="VARCHAR" />
		<result column="BMGL_KSXB" property="bmglKsxb" jdbcType="VARCHAR" />
		<result column="BMGL_BKDW" property="bmglBkdw" jdbcType="VARCHAR" />
		<result column="BMGL_BKGW" property="bmglBkgw" jdbcType="VARCHAR" />
		<result column="BMGL_BYXX" property="bmglByxx" jdbcType="VARCHAR" />
		<result column="BMGL_KSRQ" property="bmglKsrq" jdbcType="TIMESTAMP" />
		<result column="BMGL_KSSJ" property="bmglKssj" jdbcType="VARCHAR" />
		<result column="BMGL_SFQR" property="bmglSfqr" jdbcType="VARCHAR" />
		<result column="BMGL_LXDH" property="bmglLxdh" jdbcType="NUMERIC" />
		<result column="BMGL_ADDTIME" property="bmglAddtime" jdbcType="TIMESTAMP" />
		<result column="BMGL_DELFLAG" property="bmglDelflag" jdbcType="NUMERIC" />
		<result column="BMGL_KSCJ" property="bmglKscj" jdbcType="VARCHAR" />
		<result column="BMGL_TSZG" property="bmglTszg" jdbcType="VARCHAR" />
		<result column="BMGL_SFZH" property="bmglSfzh" jdbcType="VARCHAR" />
		<result column="BMGL_JTJLKID" property="bmglJtjlkid" jdbcType="VARCHAR" />
		<result column="BMGL_BKDWDM" property="bmglBkdwdm" jdbcType="VARCHAR" />
		<result column="BMGL_KSXB" property="bmglKsxb" jdbcType="VARCHAR" />
		<result column="BMGL_KSDD" property="bmglKsdd" jdbcType="VARCHAR" />
		<result column="BMGL_PRINTFLAG" property="bmglPrintflag" jdbcType="NUMERIC" />
		<result column="BMGL_KCMC" property="bmglKcmc" jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		BMGL_ID, BMGL_KCGL_ID, BMGL_KSXM, BMGL_BKDW, BMGL_BKGW, BMGL_BYXX,
		BMGL_KSRQ, BMGL_KSSJ,
		BMGL_SFQR, BMGL_LXDH, BMGL_ADDTIME, BMGL_DELFLAG,
		BMGL_KSCJ, BMGL_TSZG,
		BMGL_SFZH,
		BMGL_JTJLKID, BMGL_BKDWDM, BMGL_KSXB,
		BMGL_KSDD, BMGL_PRINTFLAG
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from BMGL
		where BMGL_ID = #{bmglId,jdbcType=VARCHAR}
	</select>
	<select id="selectIsExist" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from BMGL
		where BMGL_SFZH = #{bmglSfzh,jdbcType=VARCHAR}
		and BMGL_BKGW =
		#{bmglBkgw,jdbcType=VARCHAR}
		and BMGL_JTJLKID !=
		#{bmglJtjlkid,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from BMGL
		where BMGL_ID = #{bmglId,jdbcType=VARCHAR}
	</delete>
	<delete id="deleteByWhere" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from BMGL
		where BMGL_JTJLKID = #{jtjlkId,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into BMGL (BMGL_ID, BMGL_KCGL_ID, BMGL_KSXM,
		BMGL_BKDW,
		BMGL_BKGW, BMGL_BYXX,
		BMGL_KSRQ, BMGL_KSSJ, BMGL_SFQR,
		BMGL_LXDH,
		BMGL_ADDTIME, BMGL_DELFLAG,
		BMGL_KSCJ, BMGL_TSZG, BMGL_SFZH,
		BMGL_JTJLKID, BMGL_BKDWDM, BMGL_KSXB,
		BMGL_KSDD, BMGL_PRINTFLAG)
		values
		(#{bmglId,jdbcType=VARCHAR}, #{bmglKcglId,jdbcType=VARCHAR},
		#{bmglKsxm,jdbcType=VARCHAR},
		#{bmglBkdw,jdbcType=VARCHAR},
		#{bmglBkgw,jdbcType=VARCHAR}, #{bmglByxx,jdbcType=VARCHAR},
		#{bmglKsrq,jdbcType=TIMESTAMP}, #{bmglKssj,jdbcType=VARCHAR},
		#{bmglSfqr,jdbcType=VARCHAR},
		#{bmglLxdh,jdbcType=NUMERIC},
		#{bmglAddtime,jdbcType=TIMESTAMP}, #{bmglDelflag,jdbcType=NUMERIC},
		#{bmglKscj,jdbcType=VARCHAR}, #{bmglTszg,jdbcType=VARCHAR},
		#{bmglSfzh,jdbcType=VARCHAR},
		#{bmglJtjlkid,jdbcType=VARCHAR},
		#{bmglBkdwdm,jdbcType=VARCHAR}, #{bmglKsxb,jdbcType=VARCHAR},
		#{bmglKsdd,jdbcType=VARCHAR}, #{bmglPrintflag,jdbcType=VARCHAR})
	</insert>
	<insert id="insertSelective" parameterType="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into BMGL
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="bmglId != null">
				BMGL_ID,
			</if>
			<if test="bmglKcglId != null">
				BMGL_KCGL_ID,
			</if>
			<if test="bmglKsxm != null">
				BMGL_KSXM,
			</if>
			<if test="bmglBkdw != null">
				BMGL_BKDW,
			</if>
			<if test="bmglBkgw != null">
				BMGL_BKGW,
			</if>
			<if test="bmglByxx != null">
				BMGL_BYXX,
			</if>
			<if test="bmglKsrq != null">
				BMGL_KSRQ,
			</if>
			<if test="bmglKssj != null">
				BMGL_KSSJ,
			</if>
			<if test="bmglSfqr != null">
				BMGL_SFQR,
			</if>
			<if test="bmglLxdh != null">
				BMGL_LXDH,
			</if>
			<if test="bmglAddtime != null">
				BMGL_ADDTIME,
			</if>
			<if test="bmglDelflag != null">
				BMGL_DELFLAG,
			</if>
			<if test="bmglKscj != null">
				BMGL_KSCJ,
			</if>
			<if test="bmglTszg != null">
				BMGL_TSZG,
			</if>
			<if test="bmglSfzh != null">
				BMGL_SFZH,
			</if>
			<if test="bmglJtjlkid != null">
				BMGL_JTJLKID,
			</if>
			<if test="bmglBkdwdm != null">
				BMGL_BKDWDM,
			</if>
			<if test="bmglKsxb != null">
				BMGL_KSXB,
			</if>
			<if test="bmglKsdd != null">
				BMGL_KSDD,
			</if>
			<if test="bmglPrintflag != null">
				BMGL_PRINTFLAG,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="bmglId != null">
				#{bmglId,jdbcType=VARCHAR},
			</if>
			<if test="bmglKcglId != null">
				#{bmglKcglId,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsxm != null">
				#{bmglKsxm,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkdw != null">
				#{bmglBkdw,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkgw != null">
				#{bmglBkgw,jdbcType=VARCHAR},
			</if>
			<if test="bmglByxx != null">
				#{bmglByxx,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsrq != null">
				#{bmglKsrq,jdbcType=TIMESTAMP},
			</if>
			<if test="bmglKssj != null">
				#{bmglKssj,jdbcType=VARCHAR},
			</if>
			<if test="bmglSfqr != null">
				#{bmglSfqr,jdbcType=VARCHAR},
			</if>
			<if test="bmglLxdh != null">
				#{bmglLxdh,jdbcType=NUMERIC},
			</if>
			<if test="bmglAddtime != null">
				#{bmglAddtime,jdbcType=TIMESTAMP},
			</if>
			<if test="bmglDelflag != null">
				#{bmglDelflag,jdbcType=NUMERIC},
			</if>
			<if test="bmglKscj != null">
				#{bmglKscj,jdbcType=VARCHAR},
			</if>
			<if test="bmglTszg != null">
				#{bmglTszg,jdbcType=VARCHAR},
			</if>
			<if test="bmglSfzh != null">
				#{bmglSfzh,jdbcType=VARCHAR},
			</if>
			<if test="bmglJtjlkid != null">
				#{bmglJtjlkid,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkdwdm != null">
				#{bmglBkdwdm,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsxb != null">
				#{bmglKsxb,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsdd != null">
				#{bmglKsdd,jdbcType=VARCHAR},
			</if>
			<if test="bmglPrintflag != null">
				#{bmglPrintflag,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update BMGL
		<set>
			<if test="bmglKcglId != null">
				BMGL_KCGL_ID = #{bmglKcglId,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsxm != null">
				BMGL_KSXM = #{bmglKsxm,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkdw != null">
				BMGL_BKDW = #{bmglBkdw,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkgw != null">
				BMGL_BKGW = #{bmglBkgw,jdbcType=VARCHAR},
			</if>
			<if test="bmglByxx != null">
				BMGL_BYXX = #{bmglByxx,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsrq != null">
				BMGL_KSRQ = #{bmglKsrq,jdbcType=TIMESTAMP},
			</if>
			<if test="bmglKssj != null">
				BMGL_KSSJ = #{bmglKssj,jdbcType=VARCHAR},
			</if>
			<if test="bmglSfqr != null">
				BMGL_SFQR = #{bmglSfqr,jdbcType=VARCHAR},
			</if>
			<if test="bmglLxdh != null">
				BMGL_LXDH = #{bmglLxdh,jdbcType=NUMERIC},
			</if>
			<if test="bmglAddtime != null">
				BMGL_ADDTIME = #{bmglAddtime,jdbcType=TIMESTAMP},
			</if>
			<if test="bmglDelflag != null">
				BMGL_DELFLAG = #{bmglDelflag,jdbcType=NUMERIC},
			</if>
			<if test="bmglKscj != null">
				BMGL_KSCJ = #{bmglKscj,jdbcType=VARCHAR},
			</if>
			<if test="bmglTszg != null">
				BMGL_TSZG = #{bmglTszg,jdbcType=VARCHAR},
			</if>
			<if test="bmglSfzh != null">
				BMGL_SFZH = #{bmglSfzh,jdbcType=VARCHAR},
			</if>
			<if test="bmglJtjlkid != null">
				BMGL_JTJLKID = #{bmglJtjlkid,jdbcType=VARCHAR},
			</if>
			<if test="bmglBkdwdm != null">
				BMGL_BKDWDM = #{bmglBkdwdm,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsxb != null">
				BMGL_KSXB = #{bmglKsxb,jdbcType=VARCHAR},
			</if>
			<if test="bmglKsdd != null">
				BMGL_KSDD = #{bmglKsdd,jdbcType=VARCHAR},
			</if>
			<if test="bmglPrintflag != null">
				BMGL_PRINTFLAG = #{bmglPrintflag,jdbcType=VARCHAR},
			</if>
		</set>
		where BMGL_ID = #{bmglId,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.ttgis.recruit.domain.Bmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update BMGL
		set BMGL_KCGL_ID = #{bmglKcglId,jdbcType=VARCHAR},
		BMGL_KSXM = #{bmglKsxm,jdbcType=VARCHAR},
		BMGL_BKDW =
		#{bmglBkdw,jdbcType=VARCHAR},
		BMGL_BKGW = #{bmglBkgw,jdbcType=VARCHAR},
		BMGL_BYXX = #{bmglByxx,jdbcType=VARCHAR},
		BMGL_KSRQ =
		#{bmglKsrq,jdbcType=TIMESTAMP},
		BMGL_KSSJ =
		#{bmglKssj,jdbcType=VARCHAR},
		BMGL_SFQR = #{bmglSfqr,jdbcType=VARCHAR},
		BMGL_LXDH = #{bmglLxdh,jdbcType=NUMERIC},
		BMGL_ADDTIME =
		#{bmglAddtime,jdbcType=TIMESTAMP},
		BMGL_DELFLAG =
		#{bmglDelflag,jdbcType=NUMERIC},
		BMGL_KSCJ =
		#{bmglKscj,jdbcType=VARCHAR},
		BMGL_TSZG = #{bmglTszg,jdbcType=VARCHAR},
		BMGL_SFZH = #{bmglSfzh,jdbcType=VARCHAR},
		BMGL_JTJLKID =
		#{bmglJtjlkid,jdbcType=VARCHAR},
		BMGL_BKDWDM =
		#{bmglBkdwdm,jdbcType=VARCHAR},
		BMGL_KSXB =
		#{bmglKsxb,jdbcType=VARCHAR},
		BMGL_KSDD = #{bmglKsdd,jdbcType=VARCHAR},
		BMGL_PRINTFLAG = #{bmglPrintflag,jdbcType=VARCHAR}
		where BMGL_ID =
		#{bmglId,jdbcType=VARCHAR}
	</update>
	<select id="selectCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.QueryBmgl">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from BMGL
		where BMGL_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="bmglKsxm != null and bmglKsxm != ''">
				and BMGL_KSXM like '%${bmglKsxm}%'
			</if>
			<if test="bmglBkdw != null and bmglBkdw != ''">
				and BMGL_BKDW like '%${bmglBkdw}%'
			</if>
			<if test="bmglBkgw != null and bmglBkgw != ''">
				and BMGL_BKGW like '%${bmglBkgw}%'
			</if>
			<if test="bmglByxx != null and bmglByxx != ''">
				and BMGL_BYXX like '%${bmglByxx}%'
			</if>
			<if test="bmglSfzh != null and bmglSfzh != ''">
				and BMGL_SFZH like '%${bmglSfzh}%'
			</if>
			<if test="bmglKcglId != null and bmglKcglId != ''">
				and BMGL_KCGL_ID like '%${bmglKcglId}%'
			</if>
			<if test="bmglKsdrq != null and bmglKsdrq != ''">
				and BMGL_KSRQ = '${bmglKsdrq}'
			</if>
			<if test="bmglKcmc != null and bmglKcmc != ''">
				and BMGL_KCGL_ID in (select KCGL_ID from KCGL where KCGL_NAME like '%${bmglKcmc}%')
			</if>
		</trim>
	</select>
	<select id="selectByWhere" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.QueryBmgl">
		select *
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) *,(select KCGL_NAME from KCGL where
		KCGL_ID = T.BMGL_KCGL_ID) BMGL_KCMC from BMGL T
		where BMGL_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="bmglKsxm != null and bmglKsxm != ''">
				and BMGL_KSXM like '%${bmglKsxm}%'
			</if>
			<if test="bmglBkdw != null and bmglBkdw != ''">
				and BMGL_BKDW like '%${bmglBkdw}%'
			</if>
			<if test="bmglBkgw != null and bmglBkgw != ''">
				and BMGL_BKGW like '%${bmglBkgw}%'
			</if>
			<if test="bmglByxx != null and bmglByxx != ''">
				and BMGL_BYXX like '%${bmglByxx}%'
			</if>
			<if test="bmglSfzh != null and bmglSfzh != ''">
				and BMGL_SFZH like '%${bmglSfzh}%'
			</if>
			<if test="bmglKcglId != null and bmglKcglId != ''">
				and BMGL_KCGL_ID like '%${bmglKcglId}%'
			</if>
			<if test="bmglKsdrq != null and bmglKsdrq != ''">
				and BMGL_KSRQ = '${bmglKsdrq}'
			</if>
			<if test="bmglKcmc != null and bmglKcmc != ''">
				and BMGL_KCGL_ID in (select KCGL_ID from KCGL where KCGL_NAME like '%${bmglKcmc}%')
			</if>
		</trim>
		order by T.BMGL_ID desc ) as t1
		order by BMGL_ID asc) as t2
		order by
		BMGL_ID desc
	</select>
	<select id="queryBmgl" resultMap="BaseResultMap">
		select * from BMGL where
		BMGL_KSXM not in
		(select DISTINCT KSXCGL_NAME FROM KSXCGL where
		KSXCGL_KKSLX = BMGL_BKGW) order by BMGL_KSXM
	</select>
	<select id="CheckCpglLogin" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.Bmgl">
		select * from BMGL where
		BMGL_DELFLAG = 1
		and BMGL_KSXM =
		#{bmglKsxm,jdbcType=VARCHAR}
		and BMGL_SFZH =
		#{bmglSfzh,jdbcType=VARCHAR}
	</select>

	<delete id="delByKcglId" parameterType="java.lang.String">
		delete from BMGL where
		BMGL_KCGL_ID = #{kcglId,jdbcType=VARCHAR}
	</delete>

	<delete id="delByJtjlkId" parameterType="java.lang.String">
		delete from BMGL where
		BMGL_JTJLKID = #{jtjlkId,jdbcType=VARCHAR}
	</delete>

	<select id="queryBmglBySfzh" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select * from BMGL where BMGL_SFZH =
		#{bmglSfzh,jdbcType=VARCHAR}
	</select>

	<select id="queryAllBmgl" resultMap="BaseResultMap">
		select *,(select KCGL_NAME
		from KCGL where KCGL_ID = BMGL_KCGL_ID) BMGL_KCMC from BMGL
	</select>
</mapper>