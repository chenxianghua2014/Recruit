<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ttgis.recruit.Mapper.MemberMapper" >
  <resultMap id="BaseResultMap" type="com.ttgis.recruit.domain.Member" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="MEMBER_ID" property="memberId" jdbcType="VARCHAR" />
    <result column="MEMBER_NAME" property="memberName" jdbcType="VARCHAR" />
    <result column="MEMBER_IDCARD" property="memberIdcard" jdbcType="VARCHAR" />
    <result column="MEMBER_TELEPHONE" property="memberTelephone" jdbcType="VARCHAR" />
    <result column="MEMBER_EMAIL" property="memberEmail" jdbcType="VARCHAR" />
    <result column="MEMBER_ZZJG" property="memberZzjg" jdbcType="VARCHAR" />
    <result column="MEMBER_HYDJ" property="memberHydj" jdbcType="VARCHAR" />
    <result column="MEMBER_DELFLAG" property="memberDelflag" jdbcType="VARCHAR" />
     <result column="MEMBER_YFKYE" property="memberYfkye" jdbcType="VARCHAR" />
    <result column="MEMBER_YYCPCS" property="memberYycpcs" jdbcType="NUMERIC" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
    MEMBER_HYDJ, MEMBER_YFKYE,MEMBER_DELFLAG,MEMBER_YYCPCS
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from MEMBER
    where MEMBER_ID = #{memberId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from MEMBER
    where MEMBER_ID = #{memberId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.ttgis.recruit.domain.Member" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MEMBER (MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, 
      MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
      MEMBER_HYDJ, MEMBER_DELFLAG,,MEMBER_YFKYE,MEMBER_YYCPCS)
    values (#{memberId,jdbcType=VARCHAR}, #{memberName,jdbcType=VARCHAR}, #{memberIdcard,jdbcType=VARCHAR}, 
      #{memberTelephone,jdbcType=VARCHAR}, #{memberEmail,jdbcType=VARCHAR}, #{memberZzjg,jdbcType=VARCHAR}, 
      #{memberHydj,jdbcType=VARCHAR}, #{memberDelflag,jdbcType=VARCHAR}, #{memberYfkye,jdbcType=VARCHAR},
       #{memberYycpcs,jdbcType=NUMERIC})
  </insert>
  <insert id="insertSelective" parameterType="com.ttgis.recruit.domain.Member" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MEMBER
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="memberId != null" >
        MEMBER_ID,
      </if>
      <if test="memberName != null" >
        MEMBER_NAME,
      </if>
      <if test="memberIdcard != null" >
        MEMBER_IDCARD,
      </if>
      <if test="memberTelephone != null" >
        MEMBER_TELEPHONE,
      </if>
      <if test="memberEmail != null" >
        MEMBER_EMAIL,
      </if>
      <if test="memberZzjg != null" >
        MEMBER_ZZJG,
      </if>
      <if test="memberHydj != null" >
        MEMBER_HYDJ,
      </if>
      <if test="memberDelflag != null" >
        MEMBER_DELFLAG, 
      </if>
       <if test="memberYfkye != null" >
        MEMBER_YFKYE,
      </if>
       <if test="memberYycpcs != null" >
        MEMBER_YYCPCS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="memberId != null" >
        #{memberId,jdbcType=VARCHAR},
      </if>
      <if test="memberName != null" >
        #{memberName,jdbcType=VARCHAR},
      </if>
      <if test="memberIdcard != null" >
        #{memberIdcard,jdbcType=VARCHAR},
      </if>
      <if test="memberTelephone != null" >
        #{memberTelephone,jdbcType=VARCHAR},
      </if>
      <if test="memberEmail != null" >
        #{memberEmail,jdbcType=VARCHAR},
      </if>
      <if test="memberZzjg != null" >
        #{memberZzjg,jdbcType=VARCHAR},
      </if>
      <if test="memberHydj != null" >
        #{memberHydj,jdbcType=VARCHAR},
      </if>
      <if test="memberDelflag != null" >
        #{memberDelflag,jdbcType=VARCHAR},
      </if>
      <if test="memberYfkye != null" >
        #{memberYfkye,jdbcType=VARCHAR},
      </if>
      <if test="memberYycpcs != null" >
        #{memberYycpcs,jdbcType=NUMERIC},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ttgis.recruit.domain.Member" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update MEMBER
    <set >
      <if test="memberName != null" >
        MEMBER_NAME = #{memberName,jdbcType=VARCHAR},
      </if>
      <if test="memberIdcard != null" >
        MEMBER_IDCARD = #{memberIdcard,jdbcType=VARCHAR},
      </if>
      <if test="memberTelephone != null" >
        MEMBER_TELEPHONE = #{memberTelephone,jdbcType=VARCHAR},
      </if>
      <if test="memberEmail != null" >
        MEMBER_EMAIL = #{memberEmail,jdbcType=VARCHAR},
      </if>
      <if test="memberZzjg != null" >
        MEMBER_ZZJG = #{memberZzjg,jdbcType=VARCHAR},
      </if>
      <if test="memberHydj != null" >
        MEMBER_HYDJ = #{memberHydj,jdbcType=VARCHAR},
      </if>
      <if test="memberDelflag != null" >
        MEMBER_DELFLAG = #{memberDelflag,jdbcType=VARCHAR},
      </if>
       <if test="memberYfkye != null" >
        MEMBER_YFKYE = #{memberYfkye,jdbcType=VARCHAR},
      </if>
       <if test="memberYycpcs != null" >
        MEMBER_YYCPCS = #{memberYycpcs,jdbcType=NUMERIC},
      </if>
    </set>
    where MEMBER_ID = #{memberId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ttgis.recruit.domain.Member" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update MEMBER
    set MEMBER_NAME = #{memberName,jdbcType=VARCHAR},
      MEMBER_IDCARD = #{memberIdcard,jdbcType=VARCHAR},
      MEMBER_TELEPHONE = #{memberTelephone,jdbcType=VARCHAR},
      MEMBER_EMAIL = #{memberEmail,jdbcType=VARCHAR},
      MEMBER_ZZJG = #{memberZzjg,jdbcType=VARCHAR},
      MEMBER_HYDJ = #{memberHydj,jdbcType=VARCHAR},
      MEMBER_DELFLAG = #{memberDelflag,jdbcType=VARCHAR},
        MEMBER_YFKYE = #{memberYfkye,jdbcType=VARCHAR},
        MEMBER_YYCPCS = #{memberYycpcs,jdbcType=NUMERIC}
    where MEMBER_ID = #{memberId,jdbcType=VARCHAR}
  </update>
  
  <select id="selectCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.QueryMember">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from MEMBER
		where MEMBER_DELFLAG=1 
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
		</trim>
	</select>
	<select id="selectByWhere" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.QueryArticle">
		select MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
    MEMBER_HYDJ, MEMBER_YFKYE,MEMBER_DELFLAG,(select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ) YJF
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) * from MEMBER T where
		MEMBER_DELFLAG=1 
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
		</trim>
		order by T.MEMBER_ID desc ) as t1
		order by MEMBER_ID asc) as t2
		order by
		MEMBER_ID desc
	</select>
	
	<select id="hyCount" resultType="java.lang.Integer">
	select count(*)
	from MEMBER 
	where 
	<![CDATA[
	  MEMBER_YFKYE < (select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)
	 ]]>   
	</select>
	
	<select id="bzselectCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.QueryMember">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from MEMBER
		where MEMBER_DELFLAG=1 and
		<![CDATA[
	  MEMBER_YFKYE < (select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)
		 ]]>  
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
		</trim>
	</select>
	<select id="bzselectByWhere" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.QueryArticle">
		select MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
    MEMBER_HYDJ, MEMBER_YFKYE,MEMBER_DELFLAG,(select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ) YJF
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) * from MEMBER T where
		MEMBER_DELFLAG=1 and
		<![CDATA[
	  MEMBER_YFKYE < (select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)
		 ]]>  
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
		</trim>
		order by T.MEMBER_ID desc ) as t1
		order by MEMBER_ID asc) as t2
		order by
		MEMBER_ID desc
	</select>
	<select id="CpfyDataCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.QueryMember">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from MEMBER
		where MEMBER_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberIdcard != null and memberIdcard != ''">
				and MEMBER_IDCARD like '%${memberIdcard}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
			<if test="fyye != null and fyye != ''">
				and 
				<![CDATA[
				((MEMBER_YFKYE*1) - ((select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)*1) ) <  ${fyye}
				]]>
			</if>
		</trim>
	</select>
	<select id="CpfyData" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.QueryMember">
		select 
		MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
        MEMBER_HYDJ, MEMBER_YFKYE,MEMBER_DELFLAG,(select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ) YJF,
	    (MEMBER_YFKYE*1 - (select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)*1 ) YFYE,
        (select HYDJ_CPCS from HYDJ where HYDJ_NAME = MEMBER_HYDJ) CPCS,MEMBER_YYCPCS,
	    ((select HYDJ_CPCS from HYDJ where HYDJ_NAME = MEMBER_HYDJ) - MEMBER_YYCPCS) SYCPCS
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) * from MEMBER T where
		MEMBER_DELFLAG=1  
		<trim suffixOverrides=",">
			<if test="memberName != null and memberName != ''">
				and MEMBER_NAME like '%${memberName}%'
			</if>
			<if test="memberIdcard != null and memberIdcard != ''">
				and MEMBER_IDCARD like '%${memberIdcard}%'
			</if>
			<if test="memberHydj != null and memberHydj != ''">
				and MEMBER_HYDJ like '%${memberHydj}%'
			</if>
			<if test="fyye != null and fyye != ''">
				and 
				<![CDATA[
				((MEMBER_YFKYE*1) - ((select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)*1) ) <  ${fyye}
				]]>
			</if>
		</trim>
		order by T.MEMBER_ID desc ) as t1
		order by MEMBER_ID asc) as t2
		order by
		MEMBER_ID desc
	</select>
	<select id="queryCpfygl" resultMap="BaseResultMap">
	select 
		MEMBER_ID, MEMBER_NAME, MEMBER_IDCARD, MEMBER_TELEPHONE, MEMBER_EMAIL, MEMBER_ZZJG, 
        MEMBER_HYDJ, MEMBER_YFKYE,MEMBER_DELFLAG,((select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)*1) YJF,
	    (MEMBER_YFKYE*1 - (select HYDJ_FY from HYDJ where HYDJ_NAME = MEMBER_HYDJ)*1 ) YFYE,
        (select HYDJ_CPCS from HYDJ where HYDJ_NAME = MEMBER_HYDJ) CPCS,MEMBER_YYCPCS,
	    ((select HYDJ_CPCS from HYDJ where HYDJ_NAME = MEMBER_HYDJ) - MEMBER_YYCPCS) SYCPCS
	from MEMBER
	</select>
</mapper>