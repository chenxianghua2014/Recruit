<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.ttgis.recruit.Mapper.LtbqMapper" >
  <resultMap id="BaseResultMap" type="com.ttgis.recruit.domain.Ltbq" >
  
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="LTBQ_ID" property="ltbqId" jdbcType="VARCHAR" />
    <result column="LTBQ_NAME" property="ltbqName" jdbcType="VARCHAR" />
    <result column="LTBQ_ORDER" property="ltbqOrder" jdbcType="NUMERIC" />
    <result column="LTBQ_ADDTIME" property="ltbqAddtime" jdbcType="TIMESTAMP" />
    <result column="LTBQ_DELFLAG" property="ltbqDelflag" jdbcType="NUMERIC" />
     <result column="LTBQ_TYPE" property="ltbqType" jdbcType="VARCHAR" />
      <result column="LTBQ_BBSID" property="ltbqBbsid" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_ADDTIME,LTBQ_TYPE,LTBQ_BBSID, LTBQ_DELFLAG
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from LTBQ
    where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from LTBQ
    where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.ttgis.recruit.domain.Ltbq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into LTBQ (LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, 
      LTBQ_ADDTIME,LTBQ_DELFLAG,LTBQ_TYPE)
    values (#{ltbqId,jdbcType=VARCHAR}, #{ltbqName,jdbcType=VARCHAR}, #{ltbqOrder,jdbcType=NUMERIC}, 
      #{ltbqAddtime,jdbcType=TIMESTAMP}, #{ltbqDelflag,jdbcType=NUMERIC},#{ltbqType,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.ttgis.recruit.domain.Ltbq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into LTBQ
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="ltbqId != null" >
        LTBQ_ID,
      </if>
      <if test="ltbqName != null" >
        LTBQ_NAME,
      </if>
      <if test="ltbqOrder != null" >
        LTBQ_ORDER,
      </if>
      <if test="ltbqAddtime != null" >
        LTBQ_ADDTIME,
      </if>
      <if test="ltbqDelflag != null" >
        LTBQ_DELFLAG,
      </if>
      <if test="ltbqType != null" >
        LTBQ_TYPE,
      </if>
       <if test="ltbqBbsid != null" >
        LTBQ_BBSID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="ltbqId != null" >
        #{ltbqId,jdbcType=VARCHAR},
      </if>
      <if test="ltbqName != null" >
        #{ltbqName,jdbcType=VARCHAR},
      </if>
      <if test="ltbqOrder != null" >
        #{ltbqOrder,jdbcType=NUMERIC},
      </if>
      <if test="ltbqAddtime != null" >
        #{ltbqAddtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ltbqDelflag != null" >
        #{ltbqDelflag,jdbcType=NUMERIC},
      </if>
      <if test="ltbqType != null" >
        #{ltbqType,jdbcType=VARCHAR},
      </if>
       <if test="ltbqBbsid != null" >
        #{ltbqBbsid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ttgis.recruit.domain.Ltbq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update LTBQ
    <set >
      <if test="ltbqName != null" >
        LTBQ_NAME = #{ltbqName,jdbcType=VARCHAR},
      </if>
      <if test="ltbqOrder != null" >
        LTBQ_ORDER = #{ltbqOrder,jdbcType=NUMERIC},
      </if>
      <if test="ltbqAddtime != null" >
        LTBQ_ADDTIME = #{ltbqAddtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ltbqDelflag != null" >
        LTBQ_DELFLAG = #{ltbqDelflag,jdbcType=NUMERIC},
      </if>
      <if test="ltbqType != null" >
        LTBQ_TYPE = #{ltbqType,jdbcType=VARCHAR},
      </if>
      <if test="ltbqBbsid != null" >
       LTBQ_BBSID = #{ltbqBbsid,jdbcType=VARCHAR},
      </if>
    </set>
    where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ttgis.recruit.domain.Ltbq" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update LTBQ
    set LTBQ_NAME = #{ltbqName,jdbcType=VARCHAR},
      LTBQ_ORDER = #{ltbqOrder,jdbcType=NUMERIC},
      LTBQ_ADDTIME = #{ltbqAddtime,jdbcType=TIMESTAMP},
      LTBQ_DELFLAG = #{ltbqDelflag,jdbcType=NUMERIC},
      LTBQ_TYPE = #{ltbqType,jdbcType=VARCHAR},
      LTBQ_BBSID = #{ltbqBbsid,jdbcType=VARCHAR}
    where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
  </update>
  <select id="queryLtbq" resultMap="BaseResultMap">
  select distinct LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '论坛'
  order by LTBQ_ADDTIME ASC 
  </select>
  
  <select id="getLtbqByltbqName" resultMap="BaseResultMap" parameterType="com.ttgis.recruit.domain.Ltbq">
  select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ
  where LTBQ_NAME = #{ltbqName,jdbcType=VARCHAR}
  
  </select>
  
  <delete id="deleteByltbqName" parameterType="java.lang.String">
  DELETE FROM LTBQ WHERE LTBQ_NAME = #{ltbqName,jdbcType=VARCHAR}
  </delete>
  
  <select id="selectCount" resultType="java.lang.Integer"
		parameterType="com.ttgis.recruit.domain.PageCondition">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*)
		from LTBQ
		where LTBQ_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="ltbqName != null and ltbqName != ''">
				and LTBQ_NAME like '%${ltbqName}%'
			</if>
			<if test="ltbqType != null and ltbqType != ''">
				and LTBQ_TYPE like '%${ltbqType}%'
			</if>
		</trim>
	</select>
	<select id="selectByWhere" resultMap="BaseResultMap"
		parameterType="com.ttgis.recruit.domain.PageCondition">
		select *
		from (select top ${currentPageSize} *
		from (select
		top(${pageNum}*${pageSize}) * from LTBQ T where
		LTBQ_DELFLAG=1
		<trim suffixOverrides=",">
			<if test="ltbqName != null and ltbqName != ''">
				and LTBQ_NAME like '%${ltbqName}%'
			</if>
			<if test="ltbqType != null and ltbqType != ''">
				and LTBQ_TYPE like '%${ltbqType}%'
			</if>
		</trim>
		order by T.LTBQ_ID desc ) as t1
		order by LTBQ_ID asc) as t2
		order by
		LTBQ_ADDTIME desc
	</select>
	<select id="queryLtbqByBW" resultMap="BaseResultMap">
	 select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '博文'
  order by LTBQ_ADDTIME ASC 
	
	</select>
	<select id="queryLtbqByQZ" resultMap="BaseResultMap">
	 select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '兴趣圈子'
  order by LTBQ_ADDTIME ASC 
	
	</select>
	<select id="checkLtbq" resultMap="BaseResultMap" >
	 select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '论坛'
 		 order by LTBQ_ADDTIME ASC 
	
	</select>
		<select id="checkLtbqArticle" resultMap="BaseResultMap" >
	 select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '博文'
 		 order by LTBQ_ADDTIME ASC 
	
	</select>
		<select id="checkLtbqXqqz" resultMap="BaseResultMap" >
	 select LTBQ_ID, LTBQ_NAME, LTBQ_ORDER, LTBQ_TYPE,LTBQ_BBSID,
      LTBQ_ADDTIME, LTBQ_DELFLAG from LTBQ where LTBQ_TYPE = '兴趣圈子'
 		 order by LTBQ_ADDTIME ASC 
	
	</select>
	<insert id="addLtbqBbs" parameterType="com.ttgis.recruit.domain.LtbqBbs">
	insert into LTBQ_BBS(LTBQID,BBSID)
	values(#{ltbqId,jdbcType=VARCHAR},#{bbsId,jdbcType=VARCHAR})
	</insert>
	<insert id="addLtbqArticle" parameterType="com.ttgis.recruit.domain.LtbqArticle">
	insert into LTBQ_Article(LTBQ_ID,ARTICLE_ID)
	values(#{ltbqId,jdbcType=VARCHAR},#{articleId,jdbcType=VARCHAR})
	</insert>
	<insert id="addLtbqXqqz" parameterType="com.ttgis.recruit.domain.LtbqXqqz">
	insert into LTBQ_Xqqz(LTBQ_ID,XQQZ_ID)
	values(#{ltbqId,jdbcType=VARCHAR},#{xqqzId,jdbcType=VARCHAR})
	</insert>
	<delete id="delLtbqBbs" parameterType="java.lang.String">
	delete from LTBQ_BBS where LTBQID = #{ltbqId,jdbcType=VARCHAR}
	
	</delete>
	<delete id="delLtbqArticle" parameterType="java.lang.String">
	delete from LTBQ_ARTICLE where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
	
	</delete>
	<delete id="delLtbqXqqz" parameterType="java.lang.String">
	delete from LTBQ_XQQZ where LTBQ_ID = #{ltbqId,jdbcType=VARCHAR}
	
	</delete>
</mapper>